!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.options=t,this._scaleBy=1,window.devicePixelRatio>1&&(this._scaleBy=window.devicePixelRatio),this._radius=(this.options.size-this.options.lineWidth)/2,this.options.scaleColor&&this.options.scaleLength&&(this._radius-=this.options.scaleLength+2),Date.now=Date.now||function(){return+new Date}}return t.prototype.animate=function(t,e){var i=this,n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},o=Date.now();this.options.onStart(t,e);var s=function(){var r=Math.min(Date.now()-o,i.options.animate.duration),a=i.options.easing(i,r,t,e-t,i.options.animate.duration);i.draw(a),i.options.onStep(t,e,a),r>=i.options.animate.duration?i.options.onStop(t,e):n(s)};n(s)},Object.defineProperty(t.prototype,"radius",{get:function(){return this._radius},set:function(t){this._radius=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scaleBy",{get:function(){return this._scaleBy},set:function(t){this._scaleBy=t},enumerable:!0,configurable:!0}),t}();e.Renderer=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),o=i(3),s=function(){function t(t,e){if(this.defaultOptions={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,size:110,rotate:0,animate:1e3,renderer:null,easing:function(t,e,i,n,o){return(e/=o/2)<1?n/2*e*e+i:-n/2*(--e*(e-2)-1)+i},onStart:function(t,e){},onStep:function(t,e,i){},onStop:function(t,e){}},this.currentValue=0,this.element=t,null!==e)for(var i in e)this.defaultOptions.hasOwnProperty(i)&&(this.defaultOptions[i]=e[i]);this.options=this.defaultOptions,this.element.setAttribute("style","position: relative;display: inline-block;text-align: center;"),this.element.style.width=this.options.size+"px",this.element.style.height=this.options.size+"px",this.percent=void 0!==t.dataset.percent?t.dataset.percent:"";var s=document.createElement("span"),r=this.element.appendChild(s);r.setAttribute("style","line-height: 110px; z-index: 2;"),r.textContent=this.percent,"SVG"===this.options.renderer?this.renderer=new o.SVGRenderer(this.element,this.options):this.renderer=new n.CanvasRenderer(this.element,this.options),"number"==typeof this.options.animate&&(this.options.animate={duration:this.options.animate,enabled:!0}),"boolean"!=typeof this.options.animate||this.options.animate||(this.options.animate={duration:1e3,enabled:this.options.animate}),this.renderer.draw(this.currentValue),t.dataset&&this.percent?this.update(parseFloat(this.percent)):t.getAttribute&&t.getAttribute("data-percent")&&this.update(parseFloat(t.getAttribute("data-percent")))}return t.prototype.update=function(t){return this.options.animate.enabled?this.renderer.animate(this.currentValue,t):this.renderer.draw(t),this.currentValue=t,this},t.prototype.disableAnimation=function(){return this.options.animate.enabled=!1,this},t.prototype.enableAnimation=function(){return this.options.animate.enabled=!0,this},t}();e.EasyPieChart=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(e,i){var n=t.call(this,i)||this;return n._canvas=document.createElement("canvas"),n._ctx=n._canvas.getContext("2d"),e.appendChild(n._canvas),n._canvas.setAttribute("style","position: absolute;top: 0;left: 0;"),window.devicePixelRatio>1&&(n._canvas.style.width=n._canvas.style.height=[n.options.size,"px"].join(""),n._canvas.width=n._canvas.height=n.options.size*n.scaleBy,n._ctx.scale(n.scaleBy,n.scaleBy)),n._ctx.translate(n.options.size/2,n.options.size/2),n._ctx.rotate((n.options.rotate/180-.5)*Math.PI),n._cachedBackground=n._ctx.getImageData(0,0,n.options.size*n.scaleBy,n.options.size*n.scaleBy),n}return o(e,t),e.prototype.drawCircle=function(t,e,i){var n=(i=Math.min(Math.max(-1,i||0),1))<=0;this._ctx.beginPath(),this._ctx.arc(0,0,this.radius,0,2*Math.PI*i,n),this._ctx.strokeStyle=t,this._ctx.lineWidth=e,this._ctx.stroke()},e.prototype.drawScale=function(){var t,e,i=1;this._ctx.lineWidth=1,this._ctx.fillStyle=this.options.scaleColor,this._ctx.save();for(var n=24;n>0;--n)n%6==0?(e=1.2*this.options.scaleLength,t=0,i=3):(e=.6*this.options.scaleLength,t=this.options.scaleLength-e,i=1),this._ctx.fillRect(-this.options.size/2+t,0,e,i),this._ctx.rotate(Math.PI/12);this._ctx.restore()},e.prototype.clear=function(){this._ctx.clearRect(this.options.size/-2,this.options.size/-2,this.options.size,this.options.size)},e.prototype.draw=function(t){var e;this._ctx.lineCap=this.options.lineCap,e="function"==typeof this.options.barColor?this.options.barColor(t):this.options.barColor,this.drawScale(),this.drawCircle(e,this.options.lineWidth,t/100)},Object.defineProperty(e.prototype,"canvas",{get:function(){return this._canvas},set:function(t){this._canvas=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ctx",{get:function(){return this._ctx},set:function(t){this._ctx=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cachedBackground",{get:function(){return this._cachedBackground},set:function(t){this._cachedBackground=t},enumerable:!0,configurable:!0}),e}(i(0).Renderer);e.CanvasRenderer=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(e,i){var n=t.call(this,i)||this;return n._svgNS="http://www.w3.org/2000/svg",n._hasScale=n.options.scaleColor&&n.options.scaleLength,n._hasScale?n.radius-=n.options.scaleLength+2:n.radius=(n.options.size-n.options.lineWidth)/2,n.svg=n.createElement("svg",{version:1.1,width:n.options.size,height:n.options.size}),n.options.trackColor&&n.svg.appendChild(n.createElement("circle",{cx:n.options.size/2,cy:n.options.size/2,r:n.radius,stroke:n.options.trackColor,"stroke-width":n.options.lineWidth,fill:"none"})),n._hasScale&&n.drawScale(),n.arc=n.createElement("path",{stroke:"function"==typeof n.options.barColor?n.options.barColor(0):n.options.barColor,"stroke-width":n.options.lineWidth,"stroke-linecap":n.options.lineCap,fill:"none"}),n.options.rotate&&n.arc.setAttribute("transform",["rotate(",n.options.rotate,",",n.options.size/2,",",n.options.size/2,")"].join("")),n.svg.appendChild(n.arc),e.appendChild(n.svg),n}return o(e,t),e.prototype.createElement=function(t,e){var i=document.createElementNS(this._svgNS,t);if(e)for(var n in e)e.hasOwnProperty(n)&&i.setAttribute(n,e[n]);return i},e.prototype.clear=function(){this.svg.parentNode.removeChild(this.svg)},e.prototype.drawScale=function(){for(var t=this.createElement("g",{transform:"translate(55, 55)"}),e=0;e<24;++e){var i=this.options.scaleLength,n=1;e%6!=0?i*=.6:(i*=1.2,n=3);var o=360*e/24+this.options.rotate;t.appendChild(this.createElement("path",{d:["M",0,0,"l",0,i].join(" "),stroke:this.options.scaleColor,"stroke-width":n,fill:"none",transform:["rotate("+o+") translate(0,",this.options.size/2-this.options.scaleLength,")"].join("")}))}this.svg.appendChild(t)},e.prototype.draw=function(t){var e=3.6*t,i=e*Math.PI/180,n=this.options.size/2+this.radius*Math.sin(i),o=this.options.size/2-this.radius*Math.cos(i),s=this.options.lineWidth/3;this._hasScale&&(s+=this.options.scaleLength+10);var r=["M",this.options.size/2,s,"A",this.radius,this.radius,0,+(e>180),1,n,o];this.arc.setAttribute("d",r.join(" ")),"function"==typeof this.options.barColor&&this.arc.setAttribute("stroke",this.options.barColor(t))},e}(i(0).Renderer);e.SVGRenderer=s}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JlbmRlcmVyLnRzIiwid2VicGFjazovLy8uL3NyYy9lYXN5UGllQ2hhcnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NhbnZhc1JlbmRlcmVyLnRzIiwid2VicGFjazovLy8uL3NyYy9zdmdSZW5kZXJlci50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIm9wdGlvbnMiLCJfc2NhbGVCeSIsIndpbmRvdyIsImRldmljZVBpeGVsUmF0aW8iLCJ0aGlzIiwiX3JhZGl1cyIsInNpemUiLCJsaW5lV2lkdGgiLCJzY2FsZUNvbG9yIiwic2NhbGVMZW5ndGgiLCJEYXRlIiwibm93IiwiYW5pbWF0ZSIsImZyb20iLCJ0byIsInJlcUFuaW1hdGlvbkZyYW1lIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwid2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2FsbGJhY2siLCJzZXRUaW1lb3V0Iiwic3RhcnRUaW1lIiwib25TdGFydCIsImFuaW1hdGlvbiIsInByb2Nlc3MiLCJNYXRoIiwibWluIiwiZHVyYXRpb24iLCJjdXJyZW50VmFsdWUiLCJlYXNpbmciLCJkcmF3Iiwib25TdGVwIiwib25TdG9wIiwiUmVuZGVyZXIiLCJlbCIsImRlZmF1bHRPcHRpb25zIiwiYmFyQ29sb3IiLCJ0cmFja0NvbG9yIiwibGluZUNhcCIsInJvdGF0ZSIsInJlbmRlcmVyIiwiX3giLCJiIiwiX2Zyb20iLCJfdG8iLCJfY3VycmVudFZhbHVlIiwiZWxlbWVudCIsInNldEF0dHJpYnV0ZSIsInN0eWxlIiwid2lkdGgiLCJoZWlnaHQiLCJwZXJjZW50IiwidW5kZWZpbmVkIiwiZGF0YXNldCIsInNwYW4iLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjb250ZW50IiwiYXBwZW5kQ2hpbGQiLCJ0ZXh0Q29udGVudCIsIlNWR1JlbmRlcmVyIiwiQ2FudmFzUmVuZGVyZXIiLCJlbmFibGVkIiwidXBkYXRlIiwicGFyc2VGbG9hdCIsImdldEF0dHJpYnV0ZSIsIm5ld1ZhbHVlIiwiZGlzYWJsZUFuaW1hdGlvbiIsImVuYWJsZUFuaW1hdGlvbiIsIkVhc3lQaWVDaGFydCIsIl9jYW52YXMiLCJfY3R4IiwiZ2V0Q29udGV4dCIsImpvaW4iLCJzY2FsZUJ5Iiwic2NhbGUiLCJ0cmFuc2xhdGUiLCJQSSIsIl9jYWNoZWRCYWNrZ3JvdW5kIiwiZ2V0SW1hZ2VEYXRhIiwiZHJhd0NpcmNsZSIsImNvbG9yIiwiaXNOZWdhdGl2ZSIsIm1heCIsImJlZ2luUGF0aCIsImFyYyIsInJhZGl1cyIsInN0cm9rZVN0eWxlIiwic3Ryb2tlIiwiZHJhd1NjYWxlIiwib2Zmc2V0IiwibGVuZ3RoIiwiZmlsbFN0eWxlIiwic2F2ZSIsImZpbGxSZWN0IiwicmVzdG9yZSIsImNsZWFyIiwiY2xlYXJSZWN0IiwiX3N2Z05TIiwiX2hhc1NjYWxlIiwic3ZnIiwidmVyc2lvbiIsImN4IiwiY3kiLCJmaWxsIiwidHlwZSIsImF0dHJpYnV0ZXMiLCJjcmVhdGVFbGVtZW50TlMiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJnIiwidHJhbnNmb3JtIiwiZGVnIiwicmFkIiwieCIsInNpbiIsInkiLCJjb3MiLCJvZmZzZXRUb3AiLCJwYXRoIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJ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QUZBLEtBRWlDbEIsVUFBcEIsRUFBQTJCIiwiZmlsZSI6ImVhc3lwaWVjaGFydC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxKTtcbiIsImV4cG9ydCBhYnN0cmFjdCBjbGFzcyBSZW5kZXJlciB7XG5cbiAgICBwcml2YXRlIF9zY2FsZUJ5ID0gMTtcbiAgICBwcml2YXRlIF9yYWRpdXM6IG51bWJlcjtcbiAgICBcbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgb3B0aW9uczogYW55KXtcbiAgICAgICAgaWYgKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvID4gMSkge1xuICAgICAgICAgICAgdGhpcy5fc2NhbGVCeSA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3JhZGl1cyA9ICh0aGlzLm9wdGlvbnMuc2l6ZSAtIHRoaXMub3B0aW9ucy5saW5lV2lkdGgpIC8gMjtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zY2FsZUNvbG9yICYmIHRoaXMub3B0aW9ucy5zY2FsZUxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5fcmFkaXVzIC09IHRoaXMub3B0aW9ucy5zY2FsZUxlbmd0aCArIDI7IC8vIDIgaXMgdGhlIGRpc3RhbmNlIGJldHdlZW4gc2NhbGUgYW5kIGJhclxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSUUgcG9seWZpbGwgZm9yIERhdGVcbiAgICAgICAgRGF0ZS5ub3cgPSBEYXRlLm5vdyB8fCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiArKG5ldyBEYXRlKCkpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuXHQgKiBDbGVhciB0aGUgY29tcGxldGUgY2FudmFzXG5cdCAqL1xuICAgIGFic3RyYWN0IGNsZWFyKCkgOiB2b2lkO1xuXG4gICAgLyoqXG5cdCAqIERyYXcgdGhlIGNvbXBsZXRlIGNoYXJ0XG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBwZXJjZW50IFBlcmNlbnQgc2hvd24gYnkgdGhlIGNoYXJ0IGJldHdlZW4gLTEwMCBhbmQgMTAwXG5cdCAqL1xuICAgIGFic3RyYWN0IGRyYXcocGVyY2VudDogbnVtYmVyKSA6IHZvaWQ7XG5cbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgZHJhd1NjYWxlKCkgOiB2b2lkO1xuXG4gICAgLyoqXG5cdCAqIEFuaW1hdGUgZnJvbSBzb21lIHBlcmNlbnQgdG8gc29tZSBvdGhlciBwZXJjZW50YWdlXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tIFN0YXJ0aW5nIHBlcmNlbnRhZ2Vcblx0ICogQHBhcmFtIHtudW1iZXJ9IHRvICAgRmluYWwgcGVyY2VudGFnZVxuXHQgKi9cbiAgICBwdWJsaWMgYW5pbWF0ZShmcm9tOiBudW1iZXIsIHRvOiBudW1iZXIpIHtcbiAgICAgICAgLyogQ2FsbGJhY2sgUmVxdWVzdCBhbmltYXRpb24gZnJhbWUgd3JhcHBlciB3aXRoIHBvbHlmaWxsXG4gICAgICAgICogQHJldHVybiB7ZnVuY3Rpb259IFJlcXVlc3QgYW5pbWF0aW9uIGZyYW1lIG1ldGhvZCBvciB0aW1lb3V0IGZhbGxiYWNrXG4gICAgICAgICovXG4gICAgICAgIHZhciByZXFBbmltYXRpb25GcmFtZSA9IChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChjYWxsYmFjaywgMTAwMCAvIDYwKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgfSgpKTtcblxuICAgICAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICB0aGlzLm9wdGlvbnMub25TdGFydChmcm9tLCB0byk7XG4gICAgICAgIGNvbnN0IGFuaW1hdGlvbiA9ICgpID0+IHtcblx0XHRcdGNvbnN0IHByb2Nlc3MgPSBNYXRoLm1pbihEYXRlLm5vdygpIC0gc3RhcnRUaW1lLCB0aGlzLm9wdGlvbnMuYW5pbWF0ZS5kdXJhdGlvbik7XG5cdFx0XHRsZXQgY3VycmVudFZhbHVlID0gdGhpcy5vcHRpb25zLmVhc2luZyh0aGlzLCBwcm9jZXNzLCBmcm9tLCB0byAtIGZyb20sIHRoaXMub3B0aW9ucy5hbmltYXRlLmR1cmF0aW9uKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy5kcmF3KGN1cnJlbnRWYWx1ZSk7XG5cdFx0XHR0aGlzLm9wdGlvbnMub25TdGVwKGZyb20sIHRvLCBjdXJyZW50VmFsdWUpO1xuXHRcdFx0aWYgKHByb2Nlc3MgPj0gdGhpcy5vcHRpb25zLmFuaW1hdGUuZHVyYXRpb24pIHtcblx0XHRcdFx0dGhpcy5vcHRpb25zLm9uU3RvcChmcm9tLCB0byk7XG5cdFx0XHR9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlcUFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvbik7XG5cdFx0XHR9XG5cdFx0fTtcblx0XHRyZXFBbmltYXRpb25GcmFtZShhbmltYXRpb24pO1xuICAgIH1cblxuICAgIC8qKiBDYW52YXMgQWNjZXNzb3IgR2V0dGVyIGFuZCBTZXR0ZXIgKi9cbiAgICBwdWJsaWMgZ2V0IHJhZGl1cygpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmFkaXVzO1xuICAgIH1cbiAgICBwdWJsaWMgc2V0IHJhZGl1cyh2YWx1ZTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX3JhZGl1cyA9IHZhbHVlO1xuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgZ2V0IHNjYWxlQnkoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NjYWxlQnk7XG4gICAgfVxuICAgIHB1YmxpYyBzZXQgc2NhbGVCeSh2YWx1ZTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX3NjYWxlQnkgPSB2YWx1ZTtcbiAgICB9XG5cbn0iLCJpbXBvcnQgeyBDYW52YXNSZW5kZXJlciB9IGZyb20gJy4vY2FudmFzUmVuZGVyZXInO1xuaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuL3JlbmRlcmVyJztcbmltcG9ydCB7IFNWR1JlbmRlcmVyIH0gZnJvbSAnLi9zdmdSZW5kZXJlcic7XG5cbmV4cG9ydCBjbGFzcyBFYXN5UGllQ2hhcnQge1xuICAgIHByaXZhdGUgZGVmYXVsdE9wdGlvbnM6IHtbaW5kZXg6IHN0cmluZ106IGFueX0gPSB7XG5cdFx0YmFyQ29sb3I6ICcjZWYxZTI1Jyxcblx0XHR0cmFja0NvbG9yOiAnI2Y5ZjlmOScsXG5cdFx0c2NhbGVDb2xvcjogJyNkZmUwZTAnLFxuXHRcdHNjYWxlTGVuZ3RoOiA1LFxuXHRcdGxpbmVDYXA6ICdyb3VuZCcsXG5cdFx0bGluZVdpZHRoOiAzLFxuXHRcdHNpemU6IDExMCxcblx0XHRyb3RhdGU6IDAsXG4gICAgICAgIGFuaW1hdGU6IDEwMDAsXG4gICAgICAgIHJlbmRlcmVyOiBudWxsLFxuICAgICAgICBlYXNpbmc6IChfeDpudW1iZXIsIHQ6bnVtYmVyLCBiOm51bWJlciwgYzpudW1iZXIsIGQ6bnVtYmVyKSA9PiB7XG4gICAgICAgICAgICB0ID0gdCAvIChkLzIpO1xuICAgICAgICAgICAgaWYgKHQgPCAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGMgLyAyICogdCAqIHQgKyBiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIC1jLzIgKiAoKC0tdCkqKHQtMikgLSAxKSArIGI7XG4gICAgICAgIH0sXG4gICAgICAgIG9uU3RhcnQ6IChfZnJvbTpudW1iZXIsIF90bzpudW1iZXIpID0+IHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSxcbiAgICAgICAgb25TdGVwOiAoX2Zyb206bnVtYmVyLCBfdG86bnVtYmVyLCBfY3VycmVudFZhbHVlOm51bWJlcikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9LFxuICAgICAgICBvblN0b3A6IChfZnJvbTpudW1iZXIsIF90bzpudW1iZXIpID0+IHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcHJpdmF0ZSBvcHRpb25zOiBhbnk7XG4gICAgcHJpdmF0ZSByZW5kZXJlcjogUmVuZGVyZXI7XG4gICAgcHJpdmF0ZSBjdXJyZW50VmFsdWU6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBlbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIHBlcmNlbnQ6IHN0cmluZyB8IG51bWJlcjtcbiAgICBjb25zdHJ1Y3RvcihlbDogSFRNTEVsZW1lbnQsIG9wdGlvbnM6IHtbaW5kZXg6IHN0cmluZ10gOiBhbnl9IHwgbnVsbCl7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsO1xuICAgICAgICBpZihvcHRpb25zICE9PSBudWxsKXsgICAgXG4gICAgICAgICAgICAvLyBtZXJnZSB1c2VyIG9wdGlvbnMgaW50byBkZWZhdWx0IG9wdGlvbnNcbiAgICAgICAgICAgIGZvciAodmFyIGkgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlZmF1bHRPcHRpb25zLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVmYXVsdE9wdGlvbnNbaV0gPSBvcHRpb25zW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9wdGlvbnMgPSB0aGlzLmRlZmF1bHRPcHRpb25zO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAncG9zaXRpb246IHJlbGF0aXZlO2Rpc3BsYXk6IGlubGluZS1ibG9jazt0ZXh0LWFsaWduOiBjZW50ZXI7JylcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLndpZHRoID0gdGhpcy5vcHRpb25zLnNpemUgKyAncHgnO1xuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gdGhpcy5vcHRpb25zLnNpemUgKyAncHgnO1xuICAgICAgICB0aGlzLnBlcmNlbnQgPSAoZWwuZGF0YXNldC5wZXJjZW50ICE9PSB1bmRlZmluZWQpID8gZWwuZGF0YXNldC5wZXJjZW50IDogJyc7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBsZXQgY29udGVudCA9IHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZChzcGFuKTtcbiAgICAgICAgY29udGVudC5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2xpbmUtaGVpZ2h0OiAxMTBweDsgei1pbmRleDogMjsnKTtcbiAgICAgICAgY29udGVudC50ZXh0Q29udGVudCA9IHRoaXMucGVyY2VudDtcbiAgICAgICAgXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucmVuZGVyZXIgPT09ICdTVkcnKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFNWR1JlbmRlcmVyKHRoaXMuZWxlbWVudCwgdGhpcy5vcHRpb25zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIENhbnZhcyBpcyBkZWZhdWx0XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyID0gbmV3IENhbnZhc1JlbmRlcmVyKHRoaXMuZWxlbWVudCwgdGhpcy5vcHRpb25zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHByb2Nlc3MgZWFybGllciBhbmltYXRlIG9wdGlvbiB0byBhdm9pZCBiYyBicmVha3Ncblx0XHRpZiAodHlwZW9mKHRoaXMub3B0aW9ucy5hbmltYXRlKSA9PT0gJ251bWJlcicpIHtcblx0XHRcdHRoaXMub3B0aW9ucy5hbmltYXRlID0ge1xuXHRcdFx0XHRkdXJhdGlvbjogdGhpcy5vcHRpb25zLmFuaW1hdGUsXG5cdFx0XHRcdGVuYWJsZWQ6IHRydWVcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKHR5cGVvZih0aGlzLm9wdGlvbnMuYW5pbWF0ZSkgPT09ICdib29sZWFuJyAmJiAhdGhpcy5vcHRpb25zLmFuaW1hdGUpIHtcblx0XHRcdHRoaXMub3B0aW9ucy5hbmltYXRlID0ge1xuXHRcdFx0XHRkdXJhdGlvbjogMTAwMCxcblx0XHRcdFx0ZW5hYmxlZDogdGhpcy5vcHRpb25zLmFuaW1hdGVcblx0XHRcdH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gaW5pdGlhbCBkcmF3XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZHJhdyh0aGlzLmN1cnJlbnRWYWx1ZSk7XG4gICAgICAgIC8vIGluaXRpYWwgdXBkYXRlXG5cdFx0aWYgKGVsLmRhdGFzZXQgJiYgdGhpcy5wZXJjZW50KSB7XG5cdFx0XHR0aGlzLnVwZGF0ZShwYXJzZUZsb2F0KHRoaXMucGVyY2VudCkpO1xuXHRcdH0gZWxzZSBpZiAoZWwuZ2V0QXR0cmlidXRlICYmIGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1wZXJjZW50JykpIHtcblx0XHRcdHRoaXMudXBkYXRlKHBhcnNlRmxvYXQoZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXBlcmNlbnQnKSEpKTtcblx0XHR9XG4gICAgfSBcbiAgICBcbiAgICAvKipcblx0ICogVXBkYXRlIHRoZSB2YWx1ZSBvZiB0aGUgY2hhcnRcblx0ICogQHBhcmFtICB7bnVtYmVyfSBuZXdWYWx1ZSBOdW1iZXIgYmV0d2VlbiAwIGFuZCAxMDBcblx0ICogQHJldHVybiB7b2JqZWN0fSAgICAgICAgICBJbnN0YW5jZSBvZiB0aGUgcGx1Z2luIGZvciBtZXRob2QgY2hhaW5pbmdcblx0ICovXG4gICAgcHJpdmF0ZSB1cGRhdGUobmV3VmFsdWU6IG51bWJlcikge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmFuaW1hdGUuZW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5hbmltYXRlKHRoaXMuY3VycmVudFZhbHVlLCBuZXdWYWx1ZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMucmVuZGVyZXIuZHJhdyhuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSBuZXdWYWx1ZTtcblx0XHRyZXR1cm4gdGhpcztcbiAgICB9XG4gICAgXG4gICAgLyoqXG5cdCAqIERpc2FibGUgYW5pbWF0aW9uXG5cdCAqIEByZXR1cm4ge29iamVjdH0gSW5zdGFuY2Ugb2YgdGhlIHBsdWdpbiBmb3IgbWV0aG9kIGNoYWluaW5nXG5cdCAqL1xuICAgIHByaXZhdGUgZGlzYWJsZUFuaW1hdGlvbigpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLmFuaW1hdGUuZW5hYmxlZCA9IGZhbHNlO1xuXHRcdHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuXHQgKiBFbmFibGUgYW5pbWF0aW9uXG5cdCAqIEByZXR1cm4ge29iamVjdH0gSW5zdGFuY2Ugb2YgdGhlIHBsdWdpbiBmb3IgbWV0aG9kIGNoYWluaW5nXG5cdCAqL1xuICAgIHByaXZhdGUgZW5hYmxlQW5pbWF0aW9uKCkge1xuICAgICAgICB0aGlzLm9wdGlvbnMuYW5pbWF0ZS5lbmFibGVkID0gdHJ1ZTtcblx0XHRyZXR1cm4gdGhpcztcbiAgICB9XG59XG5cbiIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSBcIi4vcmVuZGVyZXJcIjtcblxuZXhwb3J0IGNsYXNzIENhbnZhc1JlbmRlcmVyIGV4dGVuZHMgUmVuZGVyZXIge1xuICAgIFxuICAgIHByaXZhdGUgX2NhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfY3R4OiBhbnk7XG4gICAgcHJpdmF0ZSBfY2FjaGVkQmFja2dyb3VuZDogSW1hZ2VEYXRhO1xuICAgIFxuICAgIC8qKlxuICAgICAqIFJlbmRlcmVyIHRvIHJlbmRlciB0aGUgY2hhcnQgb24gYSBjYW52YXMgb2JqZWN0XG4gICAgICogQHBhcmFtIGVsIERPTSBlbGVtZW50IHRvIGhvc3QgdGhlIGNhbnZhcyAocm9vdCBvZiB0aGUgcGx1Z2luKVxuICAgICAqIEBwYXJhbSBvcHRpb25zIG9wdGlvbnMgb2JqZWN0IG9mIHRoZSBwbHVnaW5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlbDogSFRNTEVsZW1lbnQsIG9wdGlvbnM6IG9iamVjdCkge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICAgICAgdGhpcy5fY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIHRoaXMuX2N0eCA9IHRoaXMuX2NhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICBlbC5hcHBlbmRDaGlsZCh0aGlzLl9jYW52YXMpO1xuICAgICAgICB0aGlzLl9jYW52YXMuc2V0QXR0cmlidXRlKCdzdHlsZScsICdwb3NpdGlvbjogYWJzb2x1dGU7dG9wOiAwO2xlZnQ6IDA7JylcbiAgICAgICAgLy8gY2FudmFzIG9uIHJldGluYSBkZXZpY2VzXG4gICAgICAgIGlmICh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA+IDEpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhbnZhcy5zdHlsZS53aWR0aCA9IHRoaXMuX2NhbnZhcy5zdHlsZS5oZWlnaHQgPSBbdGhpcy5vcHRpb25zLnNpemUsICdweCddLmpvaW4oJycpO1xuICAgICAgICAgICAgdGhpcy5fY2FudmFzLndpZHRoID0gdGhpcy5fY2FudmFzLmhlaWdodCA9IHRoaXMub3B0aW9ucy5zaXplICogdGhpcy5zY2FsZUJ5O1xuICAgICAgICAgICAgdGhpcy5fY3R4LnNjYWxlKHRoaXMuc2NhbGVCeSwgdGhpcy5zY2FsZUJ5KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBtb3ZlIDAsMCBjb29yZGluYXRlcyB0byB0aGUgY2VudGVyXG4gICAgICAgIHRoaXMuX2N0eC50cmFuc2xhdGUodGhpcy5vcHRpb25zLnNpemUgLyAyLCB0aGlzLm9wdGlvbnMuc2l6ZSAvIDIpO1xuICAgICAgICAvLyByb3RhdGUgY2FudmFzIC05MGRlZ1xuICAgICAgICB0aGlzLl9jdHgucm90YXRlKCgtMSAvIDIgKyB0aGlzLm9wdGlvbnMucm90YXRlIC8gMTgwKSAqIE1hdGguUEkpO1xuICAgICAgICB0aGlzLl9jYWNoZWRCYWNrZ3JvdW5kID0gdGhpcy5fY3R4LmdldEltYWdlRGF0YSgwLCAwLCB0aGlzLm9wdGlvbnMuc2l6ZSAqIHRoaXMuc2NhbGVCeSwgdGhpcy5vcHRpb25zLnNpemUgKiB0aGlzLnNjYWxlQnkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERyYXcgYSBjaXJjbGUgYXJvdW5kIHRoZSBjZW50ZXIgb2YgdGhlIGNhbnZhc1xuICAgICAqIEBwYXJhbSBjb2xvciBWYWxpZCBDU1MgQ29sb3JcbiAgICAgKiBAcGFyYW0gbGluZVdpZHRoIFdpZHRoIG9mIHRoZSBsaW5lIGluIHB4XG4gICAgICogQHBhcmFtIHBlcmNlbnQgUGVyY2VudGFnZSB0byBkcmF3IChmbG9hdCBiZXR3ZWVuIC0xIGFuZCAxKVxuICAgICAqL1xuICAgIGRyYXdDaXJjbGUoY29sb3I6IHN0cmluZywgbGluZVdpZHRoOiBudW1iZXIsIHBlcmNlbnQ6IG51bWJlcikge1xuICAgICAgICBwZXJjZW50ID0gTWF0aC5taW4oTWF0aC5tYXgoLTEsIHBlcmNlbnQgfHwgMCksIDEpO1xuXHRcdGNvbnN0IGlzTmVnYXRpdmUgPSBwZXJjZW50IDw9IDAgPyB0cnVlIDogZmFsc2U7XG5cblx0XHR0aGlzLl9jdHguYmVnaW5QYXRoKCk7XG5cdFx0dGhpcy5fY3R4LmFyYygwLCAwLCB0aGlzLnJhZGl1cywgMCwgTWF0aC5QSSAqIDIgKiBwZXJjZW50LCBpc05lZ2F0aXZlKTtcblxuXHRcdHRoaXMuX2N0eC5zdHJva2VTdHlsZSA9IGNvbG9yO1xuXHRcdHRoaXMuX2N0eC5saW5lV2lkdGggPSBsaW5lV2lkdGg7XG5cblx0XHR0aGlzLl9jdHguc3Ryb2tlKCk7XG4gICAgfVxuXG4gICAgLyoqXG5cdCAqIERyYXcgdGhlIHNjYWxlIG9mIHRoZSBjaGFydFxuXHQgKi9cbiAgICBwcm90ZWN0ZWQgZHJhd1NjYWxlKCkge1xuICAgICAgICBsZXQgb2Zmc2V0O1xuXHRcdGxldCBsZW5ndGg7XG4gICAgICAgIGxldCB3aWR0aCA9IDE7XG5cdFx0dGhpcy5fY3R4LmxpbmVXaWR0aCA9IDE7XG5cdFx0dGhpcy5fY3R4LmZpbGxTdHlsZSA9IHRoaXMub3B0aW9ucy5zY2FsZUNvbG9yO1xuXG5cdFx0dGhpcy5fY3R4LnNhdmUoKTtcblx0XHRmb3IgKGxldCBpID0gMjQ7IGkgPiAwOyAtLWkpIHtcblx0XHRcdGlmIChpICUgNiA9PT0gMCkge1xuXHRcdFx0XHRsZW5ndGggPSB0aGlzLm9wdGlvbnMuc2NhbGVMZW5ndGggKiAxLjI7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gMDtcbiAgICAgICAgICAgICAgICB3aWR0aCA9IDM7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRsZW5ndGggPSB0aGlzLm9wdGlvbnMuc2NhbGVMZW5ndGggKiAwLjY7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gdGhpcy5vcHRpb25zLnNjYWxlTGVuZ3RoIC0gbGVuZ3RoO1xuICAgICAgICAgICAgICAgIHdpZHRoID0gMTtcblx0XHRcdH1cblx0XHRcdHRoaXMuX2N0eC5maWxsUmVjdCgtdGhpcy5vcHRpb25zLnNpemUvMiArIG9mZnNldCwgMCwgbGVuZ3RoLCB3aWR0aCk7XG5cdFx0XHR0aGlzLl9jdHgucm90YXRlKE1hdGguUEkgLyAxMik7XG5cdFx0fVxuXHRcdHRoaXMuX2N0eC5yZXN0b3JlKCk7XG4gICAgfVxuXG4gICAgLyoqXG5cdCAqIENsZWFyIHRoZSBjb21wbGV0ZSBjYW52YXNcblx0ICovXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuX2N0eC5jbGVhclJlY3QodGhpcy5vcHRpb25zLnNpemUgLyAtMiwgdGhpcy5vcHRpb25zLnNpemUgLyAtMiwgdGhpcy5vcHRpb25zLnNpemUsIHRoaXMub3B0aW9ucy5zaXplKTtcbiAgICB9XG5cbiAgICAvKipcblx0ICogRHJhdyB0aGUgY29tcGxldGUgY2hhcnRcblx0ICogQHBhcmFtIHtudW1iZXJ9IHBlcmNlbnQgUGVyY2VudCBzaG93biBieSB0aGUgY2hhcnQgYmV0d2VlbiAtMTAwIGFuZCAxMDBcblx0ICovXG4gICAgZHJhdyhwZXJjZW50OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fY3R4LmxpbmVDYXAgPSB0aGlzLm9wdGlvbnMubGluZUNhcDtcblxuXHRcdC8vIGlmIGJhcmNvbG9yIGlzIGEgZnVuY3Rpb24gZXhlY3V0ZSBpdCBhbmQgcGFzcyB0aGUgcGVyY2VudCBhcyBhIHZhbHVlXG5cdFx0bGV0IGNvbG9yO1xuXHRcdGlmICh0eXBlb2YodGhpcy5vcHRpb25zLmJhckNvbG9yKSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0Y29sb3IgPSB0aGlzLm9wdGlvbnMuYmFyQ29sb3IocGVyY2VudCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbG9yID0gdGhpcy5vcHRpb25zLmJhckNvbG9yO1xuXHRcdH1cblxuICAgICAgICAvLyBkcmF3IGJhclxuICAgICAgICB0aGlzLmRyYXdTY2FsZSgpO1xuXHRcdHRoaXMuZHJhd0NpcmNsZShjb2xvciwgdGhpcy5vcHRpb25zLmxpbmVXaWR0aCwgcGVyY2VudCAvIDEwMCk7XG4gICAgfVxuXG4gICAgLyoqIENhbnZhcyBBY2Nlc3NvciBHZXR0ZXIgYW5kIFNldHRlciAqL1xuICAgIHB1YmxpYyBnZXQgY2FudmFzKCk6IEhUTUxDYW52YXNFbGVtZW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbnZhcztcbiAgICB9XG4gICAgcHVibGljIHNldCBjYW52YXModmFsdWU6IEhUTUxDYW52YXNFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX2NhbnZhcyA9IHZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgY3R4KCk6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jdHg7XG4gICAgfVxuICAgIHB1YmxpYyBzZXQgY3R4KHZhbHVlOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcbiAgICAgICAgdGhpcy5fY3R4ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBjYWNoZWRCYWNrZ3JvdW5kKCk6IEltYWdlRGF0YSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRCYWNrZ3JvdW5kO1xuICAgIH1cbiAgICBwdWJsaWMgc2V0IGNhY2hlZEJhY2tncm91bmQodmFsdWU6IEltYWdlRGF0YSkge1xuICAgICAgICB0aGlzLl9jYWNoZWRCYWNrZ3JvdW5kID0gdmFsdWU7XG4gICAgfVxufSIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSBcIi4vcmVuZGVyZXJcIjtcblxuZXhwb3J0IGNsYXNzIFNWR1JlbmRlcmVyIGV4dGVuZHMgUmVuZGVyZXIge1xuXG4gICAgcHJpdmF0ZSBfc3ZnTlM6IHN0cmluZyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG4gICAgcHJpdmF0ZSBfaGFzU2NhbGU6IGJvb2xlYW47XG4gICAgcHJpdmF0ZSBhcmM6IGFueTtcbiAgICBwcml2YXRlIHN2ZzogYW55O1xuICAgIFxuICAgIGNvbnN0cnVjdG9yKGVsOiBIVE1MRWxlbWVudCwgb3B0aW9uczogYW55KXtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX2hhc1NjYWxlID0gKHRoaXMub3B0aW9ucy5zY2FsZUNvbG9yICYmIHRoaXMub3B0aW9ucy5zY2FsZUxlbmd0aCk7IFxuICAgICAgICBpZih0aGlzLl9oYXNTY2FsZSl7XG4gICAgICAgICAgICB0aGlzLnJhZGl1cyAtPSB0aGlzLm9wdGlvbnMuc2NhbGVMZW5ndGggKyAyOyAvLyAyIGlzIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHNjYWxlIGFuZCBiYXJcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB0aGlzLnJhZGl1cyA9ICh0aGlzLm9wdGlvbnMuc2l6ZSAtIHRoaXMub3B0aW9ucy5saW5lV2lkdGgpIC8gMjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN2ZyA9IHRoaXMuY3JlYXRlRWxlbWVudCgnc3ZnJywge1xuICAgICAgICAgICAgdmVyc2lvbjogMS4xLFxuICAgICAgICAgICAgd2lkdGg6IHRoaXMub3B0aW9ucy5zaXplLFxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLm9wdGlvbnMuc2l6ZVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBjcmVhdGUgdHJhY2sgaWYgbmVjZXNzYXJ5XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudHJhY2tDb2xvcikge1xuICAgICAgICAgICAgdGhpcy5zdmcuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVFbGVtZW50KCdjaXJjbGUnLCB7XG4gICAgICAgICAgICAgICAgY3g6IHRoaXMub3B0aW9ucy5zaXplIC8gMixcbiAgICAgICAgICAgICAgICBjeTogdGhpcy5vcHRpb25zLnNpemUgLyAyLFxuICAgICAgICAgICAgICAgIHI6IHRoaXMucmFkaXVzLFxuICAgICAgICAgICAgICAgIHN0cm9rZTogdGhpcy5vcHRpb25zLnRyYWNrQ29sb3IsXG4gICAgICAgICAgICAgICAgJ3N0cm9rZS13aWR0aCc6IHRoaXMub3B0aW9ucy5saW5lV2lkdGgsXG4gICAgICAgICAgICAgICAgZmlsbDogJ25vbmUnXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjcmVhdGUgc2NhbGUgaWYgbmVjZXNzYXJ5XG4gICAgICAgIGlmICh0aGlzLl9oYXNTY2FsZSkge1xuICAgICAgICAgICAgdGhpcy5kcmF3U2NhbGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNyZWF0ZSBhcmMgKGFjdHVhbCBjaGFydClcbiAgICAgICAgdGhpcy5hcmMgPSB0aGlzLmNyZWF0ZUVsZW1lbnQoJ3BhdGgnLCB7XG4gICAgICAgICAgICBzdHJva2U6IHR5cGVvZih0aGlzLm9wdGlvbnMuYmFyQ29sb3IpID09PSAnZnVuY3Rpb24nID8gdGhpcy5vcHRpb25zLmJhckNvbG9yKDApIDogdGhpcy5vcHRpb25zLmJhckNvbG9yLFxuICAgICAgICAgICAgJ3N0cm9rZS13aWR0aCc6IHRoaXMub3B0aW9ucy5saW5lV2lkdGgsXG4gICAgICAgICAgICAnc3Ryb2tlLWxpbmVjYXAnOiB0aGlzLm9wdGlvbnMubGluZUNhcCxcbiAgICAgICAgICAgIGZpbGw6ICdub25lJ1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5yb3RhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuYXJjLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywgWydyb3RhdGUoJywgdGhpcy5vcHRpb25zLnJvdGF0ZSwgJywnLCB0aGlzLm9wdGlvbnMuc2l6ZS8yLCAnLCcsIHRoaXMub3B0aW9ucy5zaXplLzIsICcpJ10uam9pbignJykpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3ZnLmFwcGVuZENoaWxkKHRoaXMuYXJjKTtcblxuICAgICAgICAvLyBhZGQgc3ZnIHRvIHRoZSBlbGVtZW50XG4gICAgICAgIGVsLmFwcGVuZENoaWxkKHRoaXMuc3ZnKTtcbiAgICB9XG5cbiAgICAvKipcblx0ICogQ3JlYXRlIGFuIGVsZW1lbnQgb2YgdGhlIFNWRyBuYW1lc3BhY2Vcblx0ICogQHBhcmFtICB7c3RyaW5nfSB0eXBlICAgICAgIFR5cGUgb2YgdGhlIGVsZW1lbnQgKHRhZyBuYW1lKVxuXHQgKiBAcGFyYW0gIHtvYmplY3R9IGF0dHJpYnV0ZXMgQXR0cmlidXRlIGxpc3Qgb2YgdGhlIGVsZW1lbnRcblx0ICogQHJldHVybiB7ZWxlbWVudH0gICAgICAgICAgIENyZWF0ZWQgZWxlbWVudFxuXHQgKi9cbiAgICBwcml2YXRlIGNyZWF0ZUVsZW1lbnQodHlwZTogc3RyaW5nLCBhdHRyaWJ1dGVzOiB7W2luZGV4OiBzdHJpbmddOiBhbnl9KXtcbiAgICAgICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHRoaXMuX3N2Z05TLCB0eXBlKTtcblxuXHRcdGlmIChhdHRyaWJ1dGVzKSB7XG5cdFx0XHRmb3IgKHZhciBpIGluIGF0dHJpYnV0ZXMpIHtcblx0XHRcdFx0aWYgKGF0dHJpYnV0ZXMuaGFzT3duUHJvcGVydHkoaSkpIHtcblx0XHRcdFx0XHRlbC5zZXRBdHRyaWJ1dGUoaSwgYXR0cmlidXRlc1tpXSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGVsO1xuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLnN2Zy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuc3ZnKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZHJhd1NjYWxlKCkge1xuICAgICAgICBjb25zdCBnID0gdGhpcy5jcmVhdGVFbGVtZW50KCdnJywge1xuICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKDU1LCA1NSknXG4gICAgICAgIH0pO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaTwyNDsgKytpKSB7XG4gICAgICAgICAgICBsZXQgbGVuZ3RoID0gdGhpcy5vcHRpb25zLnNjYWxlTGVuZ3RoO1xuICAgICAgICAgICAgbGV0IHdpZHRoID0gMTtcbiAgICAgICAgICAgIC8vIEVhY2ggcXVhcnRlciBzaG91bGQgYmUgYmlnZ2VyXG4gICAgICAgICAgICBpZiAoaSU2ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgbGVuZ3RoICo9IC42O1xuICAgICAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgICAgIGxlbmd0aCAqPSAxLjI7XG4gICAgICAgICAgICAgICAgd2lkdGggPSAzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZGVnID0gMzYwICogaSAvIDI0ICsgdGhpcy5vcHRpb25zLnJvdGF0ZTtcblxuICAgICAgICAgICAgZy5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUVsZW1lbnQoJ3BhdGgnLCB7XG4gICAgICAgICAgICAgICAgZDogWydNJywgMCwgMCwgJ2wnLCAwLCBsZW5ndGhdLmpvaW4oJyAnKSxcbiAgICAgICAgICAgICAgICBzdHJva2U6IHRoaXMub3B0aW9ucy5zY2FsZUNvbG9yLFxuICAgICAgICAgICAgICAgICdzdHJva2Utd2lkdGgnOiB3aWR0aCxcbiAgICAgICAgICAgICAgICBmaWxsOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBbJ3JvdGF0ZSgnICsgZGVnICsgJykgdHJhbnNsYXRlKDAsJywgdGhpcy5vcHRpb25zLnNpemUvMiAtIHRoaXMub3B0aW9ucy5zY2FsZUxlbmd0aCwgJyknXS5qb2luKCcnKVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3ZnLmFwcGVuZENoaWxkKGcpO1xuICAgIH1cblxuICAgIGRyYXcocGVyY2VudDogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IGRlZyA9IDMuNiAqIHBlcmNlbnQ7XG5cdFx0Y29uc3QgcmFkID0gZGVnICogTWF0aC5QSSAvIDE4MDtcblx0XHRjb25zdCB4ID0gdGhpcy5vcHRpb25zLnNpemUgLyAyICsgdGhpcy5yYWRpdXMgKiBNYXRoLnNpbihyYWQpO1xuXHRcdGNvbnN0IHkgPSB0aGlzLm9wdGlvbnMuc2l6ZSAvIDIgLSB0aGlzLnJhZGl1cyAqIE1hdGguY29zKHJhZCk7XG5cdFx0bGV0IG9mZnNldFRvcCA9IHRoaXMub3B0aW9ucy5saW5lV2lkdGggLyAzO1xuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMuX2hhc1NjYWxlKSB7XG5cdFx0XHRvZmZzZXRUb3AgKz0gdGhpcy5vcHRpb25zLnNjYWxlTGVuZ3RoICsgMTA7XG4gICAgICAgIH1cbiAgICAgICAgXG5cdFx0Y29uc3QgcGF0aCA9IFtcblx0XHRcdCdNJyxcblx0XHRcdHRoaXMub3B0aW9ucy5zaXplIC8gMixcblx0XHRcdG9mZnNldFRvcCxcblx0XHRcdCdBJyxcblx0XHRcdHRoaXMucmFkaXVzLFxuXHRcdFx0dGhpcy5yYWRpdXMsXG5cdFx0XHQwLFxuXHRcdFx0KyhkZWcgPiAxODApLFxuXHRcdFx0MSxcblx0XHRcdHgsXG5cdFx0XHR5XG5cdFx0XTtcblx0XHR0aGlzLmFyYy5zZXRBdHRyaWJ1dGUoJ2QnLCBwYXRoLmpvaW4oJyAnKSk7XG5cblx0XHRpZiAodHlwZW9mKHRoaXMub3B0aW9ucy5iYXJDb2xvcikgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdHRoaXMuYXJjLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgdGhpcy5vcHRpb25zLmJhckNvbG9yKHBlcmNlbnQpKTtcblx0XHR9XG4gICAgfVxufSJdLCJzb3VyY2VSb290IjoiIn0=